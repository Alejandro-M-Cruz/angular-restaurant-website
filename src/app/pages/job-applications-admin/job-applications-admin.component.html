<ng-container *transloco="let t">
  <h2 class="page-title">{{t('titles.jobApplications')}}</h2>
  <div class="cards-grid">
    <mat-card *ngFor="let jobApplication of jobApplications$ | async" class="text-center m-3">
      <mat-card-header>
        <mat-card-title class="d-inline-block">
          <span>{{t('jobApplication.sentOn')}}</span>
          <b class="text-center">{{jobApplication.creationTimestamp | date: t('dateFormat')}}</b>
        </mat-card-title>
      </mat-card-header>
      <mat-card-content class="mt-3">
        <mat-card-subtitle>
          {{t('jobApplication.available')}}
          <a [href]="jobApplication.fileUrl" target="_blank">{{t('jobApplication.here')}}</a>
        </mat-card-subtitle>
        <mat-card-subtitle>
          {{t('jobApplication.replyTo')}}
          <a [href]="'mailto: ' + jobApplication.userEmail">{{jobApplication.userEmail}}</a>
        </mat-card-subtitle>
      </mat-card-content>
      <mat-card-actions class="mt-1 d-flex flex-row justify-content-end">
        <button
          class="p-3 m-2 replied-button"
          mat-raised-button
          (click)="setJobApplicationAsReplied(jobApplication.userId)"
        >
          <mat-icon class="scale-150">check_circle_outline</mat-icon>
          <span class="mx-2">{{t('jobApplication.replied')}}</span>
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</ng-container>
