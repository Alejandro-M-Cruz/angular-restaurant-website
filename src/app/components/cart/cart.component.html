<ng-container *transloco="let t">
  <h3 id="shopping-cart-title"> {{t('shoppingCart')}} </h3>

  <div class="cart-item-lang" *ngFor="let cartItem of cartItems">
    <img *ngIf="cartItem.menuItem.imageUrl" [src]="cartItem.menuItem.imageUrl" alt="item image" class="buy-image-food">
    <span> {{ cartItem.menuItem.name[getActiveLanguage()] }} </span>
    <span> {{ cartItem.menuItem.ingredients[getActiveLanguage()] }} </span>
    <span> {{ cartItem.menuItem.price | currency: 'EUR'}} </span>
    <span> {{ cartItem.quantity }} </span>
  </div>

  <app-home-delivery-selector
    [default]="false"
    (deliveryOptionChanged)="onDeliveryOptionChanged($event)"
  ></app-home-delivery-selector>

  <form *ngIf="isHomeDelivery" [formGroup]="addressForm">

    <mat-form-field appearance="outline">
      <mat-label>{{t('homeDeliveryAddress.city')}}</mat-label>
      <input type="text" matInput placeHolder="Las Palmas de Gran Canaria" formControlName="city">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>{{t('homeDeliveryAddress.street')}}</mat-label>
      <input type="text" matInput formControlName="street">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>{{t('homeDeliveryAddress.streetNumber')}}</mat-label>
      <input type="number" matInput formControlName="streetNumber">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>{{t('homeDeliveryAddress.postalCode')}}</mat-label>
      <input type="number" matInput formControlName="postalCode">
    </mat-form-field>
    <div formGroupName="additionalData">
      <mat-form-field appearance="outline">
        <mat-label>{{t('homeDeliveryAddress.additionalData.storey')}}</mat-label>
        <input type="number" matInput formControlName="storey">
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>{{t('homeDeliveryAddress.additionalData.doorNumber')}}</mat-label>
        <input type="number" matInput formControlName="doorNumber">
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>{{t('homeDeliveryAddress.additionalData.comments')}}</mat-label>
        <input type="text" matInput formControlName="comments">
      </mat-form-field>
    </div>
  </form>

  <div class="buttons-container">
    <button type="reset" (click)="location.back()" class="management-button back-button">{{t('buttons.back')}}</button>
    <button class="management-button cancel-button" (click)="clearCart()">{{t('buttons.deleteCart')}}</button>
    <button class="management-button confirm-button" (click)="onBuyButtonClicked()" [disabled]="cartItems.length === 0">{{t('buttons.buy')}}</button>
  </div>
</ng-container>
